# Mini Kafka 学习之旅日志

## 项目概述
从零开始用 Go 语言实现一个迷你版本的 Kafka，深入理解消息队列的核心原理。

## 学习目标
- 理解 Kafka 的核心架构和原理
- 掌握消息队列的设计模式
- 学习分布式系统的基本概念
- 提升 Go 语言编程能力

## 项目结构
```
kafka-from-scratch/
├── cmd/                    # 可执行程序
│   ├── broker/            # Broker 服务
│   ├── producer/          # Producer 客户端
│   └── consumer/          # Consumer 客户端
├── internal/              # 内部包
│   ├── broker/           # Broker 核心逻辑
│   ├── storage/          # 存储层
│   ├── protocol/         # 通信协议
│   └── common/           # 公共工具
├── pkg/                  # 公共库
├── examples/             # 示例代码
└── doc/                  # 文档目录
    ├── journey.md        # 学习日志 (当前文件)
    ├── architecture.md   # 架构设计
    ├── concepts.md       # 核心概念
    └── stages/           # 各阶段文档
```

## 学习阶段

### 阶段 1: 基础架构 (第1-2天) 
**目标**: 建立项目基础，理解 Kafka 的基本概念

#### 第1天 (2025-09-06)
**今日目标**: 项目搭建 + 内存消息队列实现

**完成任务**:
- [x] 创建 Go 模块和项目目录结构
- [ ] 创建文档目录并初始化学习日志
- [ ] 编写核心概念文档
- [ ] 实现基础的 Message 和 Topic 结构体
- [ ] 实现简单的内存消息队列
- [ ] 编写第一个 Producer 示例
- [ ] 编写第一个 Consumer 示例
- [ ] 测试基础功能并更新文档

**学习笔记**:
- Go 模块初始化完成: `github.com/kafka-from-scratch`
- 项目目录结构按照标准 Go 项目布局创建

**遇到的问题**:
(待记录)

**下一步计划**:
继续完成第一天的剩余任务，重点是理解核心概念和实现基础的消息结构。

---

## 每日学习记录

### 2025-09-06
- ✅ 项目初始化完成
- ✅ 阶段1: 基础架构实现完成
- ✅ 阶段1.5: Producer/Consumer接口完成
- ✅ 第一个完整示例成功运行

**重大突破**: 
- Mini Kafka基础功能全部实现
- 成功验证消息生产、消费、分区、offset管理
- 性能测试：生产 193万msg/s，消费 1.39亿msg/s (内存版)

**解决的关键问题**:
- Producer指针传递 vs 值拷贝
- Consumer订阅语义和offset管理
- 多分区消费策略
- Seek功能实现

**学到的核心概念**:
- Kafka分区路由机制
- Consumer单实例消费所有分区的策略
- offset跟踪和状态管理
- 消息持久化的基本原理